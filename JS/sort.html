<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sort</title>
    <script>
        var ar = ["바아지", "라양이", "다린", "가마"];
        // 자바스크립트는 숫자 배열을 문자 배열로 판단하고 정렬을 합니다.
        // 코드를 가지고 정렬하기 때문에 이렇게 자릿수가 다른 데이터를
        // 정렬하면 오류가 발생합니다.
        var br = [50, 40, 230, 140];

        console.log(ar.sort().reverse());
        // 숫자의 경우는 문제가 발생
        console.log(br.sort());
        // sort 메서드에는 매개변수 2개이고 리턴은 정수를 하는 함수를 대입하는
        // 것이 가능한데 매개변수 2개는 배열의 데이터가 순차적으로 전부 대입
        // 되고 양수를 리턴하면 앞의 데이터가 크다고 판단하고 위치를 변경
        console.log(br.sort((a, b) => { return b - a; })) // 내림차순

        console.log("바" < "다");
        // 문자열 배열의 내림차순
        // 오름차순 정렬한 후 reverse를 해도 되지만 크기 비교를 이용

        console.log(ar.sort((a, b) => {

            if (a < b) return 1;
            else if (a > b) return -1;
            else return 0;
        }))

        // 인스턴스를 생성할 수 있는 생성자
        function Book(name, price, date) {
            this.name = name;
            this.price = price;
            this.date = date;

            this.toString = function () {
                return this.name + ":" + this.price + ":" + this.date;
            }
        }

        var books = [
            new Book("파이썬", 3000, new Date(2022, 10, 10)),
            new Book("자바", 13000, new Date(2022, 10, 9)),
            new Book("씨", 53000, new Date(2022, 10, 11)),
            new Book("자바스크립트", 530, new Date(2023, 10, 11))
        ];

        // 배열이 제대로 만들어졌는지 확인
        //console.log(books);

        console.log(books.sort((a, b) => {
            // 가격으로 오름차순 
            // return a.price-b.price;
            // 날짜로 오름차순
            return a.date.getTime() - b.date.getTime();
        }));


        // 배열이 제대로 만들어졌는지 확인
        // console.log(books);
        // 1이면name의 오름차순 2이면 name의 내림차순
        // 3이면 price의 오름차순 4: 내림차순
        // date 5: 오름차순 , 6: 내림차순
        // 나머지는 입력한 순서대로

        let menu = prompt("정렬 방법을 선택하세요");
        let result;
        switch (menu) {
            case "1": // name 오름차순
                result = books.sort((a, b) => {
                    if (a.name > b.name) {
                        return 1;
                    } else return -1;
                });
                break;

            case "2": // name 내림차순
                result = books.sort((a, b) => {
                    if (a.name < b.name) {
                        return 1;
                    } else return -1;
                });
                break;

            case "3": // price 오름차순
                result = books.sort((a, b) => {
                    return a.price - b.price;
                });
                break;
            case "4": // price 내림차순
                result = books.sort((a, b) => {
                    return b.price - a.price1;
                });
                break;
            case "5": // date 오름차순
                result = books.sort((a, b) => {
                    return a.date.getTime() - b.date.getTime();
                });
                break;
            case "6": // date 내림차순
                result = books.sort((a, b) => {
                    return b.date.getTime() - a.date.getTime();
                });
                break;

            default: // 걍 순서대로
                result = books;
                break;
        }

        console.log(result);


    </script>
</head>

<body>

</body>

</html>